@page "/"
@using System.Security.Cryptography
@using System.Text
@using System.Globalization
@rendermode InteractiveServer
@inject IJSRuntime JSRuntime

<PageTitle>Home</PageTitle>

<ul>
	<li>You can hover over a gameobject</li>
	<li>You can select/unselect a gameobject</li>
	<li>You can delete a selected gameobject</li>
	<li>You can turn the camera around 0,0,0 with right mouse button</li>
	<li>You can also tell the server to load a .stl from another server, encrypt it and send it to client via websocket</li>
	<li>Here are some examples:</li>
		<li>https://lolhans.de/fileadmin/user_upload/tooth.stl - TODO: this file is too big for one websocket message, we need to slice it in chunks</li>
		<li>https://lolhans.de/fileadmin/user_upload/tooth-lower-resolution.stl</li>
</ul>

<input type="text" @bind=link/>
<button class="btn btn-primary" @onclick="ProcessSTLFromUrl">Load .stl from url</button>

@if(downloading)
{
	<p>DOWNLOADING</p>
}

<div id="unity-container" class="unity-desktop">
	<canvas id="unity-canvas" width=960 height=600 tabindex="-1"></canvas>
	<div id="unity-loading-bar">
		<div id="unity-logo"></div>
		<div id="unity-progress-bar-empty">
			<div id="unity-progress-bar-full"></div>
		</div>
	</div>
	<div id="unity-warning"> </div>
	<div id="unity-footer">
		<div id="unity-webgl-logo"></div>
		<div id="unity-fullscreen-button"></div>
		<div id="unity-build-title">WebTest</div>
	</div>
</div>
<p role="status">Current count: @currentCount</p>
<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>
<button class="btn btn-primary" @onclick="LoadStlAsString">Load Cube Stl As String</button>
<button class="btn btn-primary" @onclick="LoadStlAsBytes">Load Encrypted Cool Stl As Bytes</button>
<script src="./UnityLoader.js"></script>
<script src="./UnityHook.js"></script>

<p>Bytes: @byteCount</p>


@code {
	private int currentCount = 0;
	private string byteCount = "";
	private string coolStl = "solid Exported from Blender-4.0.2\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -11.500000 -1.000000 1.000000\r\nvertex -11.500000 -1.000000 3.000000\r\nvertex -11.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -11.500000 -1.000000 1.000000\r\nvertex -11.500000 1.000000 3.000000\r\nvertex -11.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -11.500000 1.000000 1.000000\r\nvertex -11.500000 1.000000 3.000000\r\nvertex -9.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -11.500000 1.000000 1.000000\r\nvertex -9.500000 1.000000 3.000000\r\nvertex -9.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -9.500000 1.000000 3.000000\r\nvertex -9.500000 -1.000000 3.000000\r\nvertex -7.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -9.500000 1.000000 3.000000\r\nvertex -7.500000 -1.000000 3.000000\r\nvertex -7.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 1.000000\r\nvertex -9.500000 -1.000000 3.000000\r\nvertex -11.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 1.000000\r\nvertex -11.500000 -1.000000 3.000000\r\nvertex -11.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 1.000000\r\nvertex -11.500000 -1.000000 1.000000\r\nvertex -11.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 1.000000\r\nvertex -11.500000 -1.000000 -1.000000\r\nvertex -9.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -9.500000 1.000000 3.000000\r\nvertex -11.500000 1.000000 3.000000\r\nvertex -11.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -9.500000 1.000000 3.000000\r\nvertex -11.500000 -1.000000 3.000000\r\nvertex -9.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -7.500000 1.000000 1.000000\r\nvertex -7.500000 1.000000 3.000000\r\nvertex -7.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -7.500000 1.000000 1.000000\r\nvertex -7.500000 -1.000000 3.000000\r\nvertex -7.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 1.000000 1.000000\r\nvertex -9.500000 1.000000 3.000000\r\nvertex -7.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 1.000000 1.000000\r\nvertex -7.500000 1.000000 3.000000\r\nvertex -7.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 3.000000\r\nvertex -9.500000 -1.000000 1.000000\r\nvertex -7.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 3.000000\r\nvertex -7.500000 -1.000000 1.000000\r\nvertex -7.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 1.000000\r\nvertex -9.500000 1.000000 1.000000\r\nvertex -7.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 1.000000\r\nvertex -7.500000 1.000000 1.000000\r\nvertex -7.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 -1.000000\r\nvertex -11.500000 -1.000000 -1.000000\r\nvertex -11.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 -1.000000\r\nvertex -11.500000 -1.000000 -3.000000\r\nvertex -9.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -11.500000 1.000000 1.000000\r\nvertex -9.500000 1.000000 1.000000\r\nvertex -9.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -11.500000 1.000000 1.000000\r\nvertex -9.500000 1.000000 -1.000000\r\nvertex -11.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -11.500000 -1.000000 1.000000\r\nvertex -11.500000 1.000000 1.000000\r\nvertex -11.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -11.500000 -1.000000 1.000000\r\nvertex -11.500000 1.000000 -1.000000\r\nvertex -11.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -9.500000 1.000000 1.000000\r\nvertex -9.500000 -1.000000 1.000000\r\nvertex -9.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -9.500000 1.000000 1.000000\r\nvertex -9.500000 -1.000000 -1.000000\r\nvertex -9.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -11.500000 1.000000 -3.000000\r\nvertex -9.500000 1.000000 -3.000000\r\nvertex -9.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -11.500000 1.000000 -3.000000\r\nvertex -9.500000 -1.000000 -3.000000\r\nvertex -11.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -11.500000 1.000000 -1.000000\r\nvertex -9.500000 1.000000 -1.000000\r\nvertex -9.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -11.500000 1.000000 -1.000000\r\nvertex -9.500000 1.000000 -3.000000\r\nvertex -11.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 1.000000 -3.000000\r\nvertex -9.500000 1.000000 -1.000000\r\nvertex -7.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 1.000000 -3.000000\r\nvertex -7.500000 1.000000 -1.000000\r\nvertex -7.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -11.500000 -1.000000 -1.000000\r\nvertex -11.500000 1.000000 -1.000000\r\nvertex -11.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -11.500000 -1.000000 -1.000000\r\nvertex -11.500000 1.000000 -3.000000\r\nvertex -11.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -7.500000 1.000000 -1.000000\r\nvertex -7.500000 -1.000000 -1.000000\r\nvertex -7.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -7.500000 1.000000 -1.000000\r\nvertex -7.500000 -1.000000 -3.000000\r\nvertex -7.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 -3.000000\r\nvertex -9.500000 1.000000 -3.000000\r\nvertex -7.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 -3.000000\r\nvertex -7.500000 1.000000 -3.000000\r\nvertex -7.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -9.500000 1.000000 -1.000000\r\nvertex -9.500000 -1.000000 -1.000000\r\nvertex -7.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -9.500000 1.000000 -1.000000\r\nvertex -7.500000 -1.000000 -1.000000\r\nvertex -7.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 -1.000000\r\nvertex -9.500000 -1.000000 -3.000000\r\nvertex -7.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -9.500000 -1.000000 -1.000000\r\nvertex -7.500000 -1.000000 -3.000000\r\nvertex -7.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -6.500000 -1.000000 1.000000\r\nvertex -6.500000 -1.000000 3.000000\r\nvertex -6.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -6.500000 -1.000000 1.000000\r\nvertex -6.500000 1.000000 3.000000\r\nvertex -6.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -6.500000 1.000000 1.000000\r\nvertex -6.500000 1.000000 3.000000\r\nvertex -4.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -6.500000 1.000000 1.000000\r\nvertex -4.500000 1.000000 3.000000\r\nvertex -4.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -4.500000 1.000000 3.000000\r\nvertex -4.500000 -1.000000 3.000000\r\nvertex -2.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -4.500000 1.000000 3.000000\r\nvertex -2.500000 -1.000000 3.000000\r\nvertex -2.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 1.000000\r\nvertex -4.500000 -1.000000 3.000000\r\nvertex -6.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 1.000000\r\nvertex -6.500000 -1.000000 3.000000\r\nvertex -6.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 1.000000\r\nvertex -6.500000 -1.000000 1.000000\r\nvertex -6.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 1.000000\r\nvertex -6.500000 -1.000000 -1.000000\r\nvertex -4.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -4.500000 1.000000 3.000000\r\nvertex -6.500000 1.000000 3.000000\r\nvertex -6.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -4.500000 1.000000 3.000000\r\nvertex -6.500000 -1.000000 3.000000\r\nvertex -4.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -2.500000 -1.000000 3.000000\r\nvertex -2.500000 -1.000000 1.000000\r\nvertex -0.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -2.500000 -1.000000 3.000000\r\nvertex -0.500000 -1.000000 1.000000\r\nvertex -0.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 1.000000 1.000000\r\nvertex -4.500000 1.000000 3.000000\r\nvertex -2.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 1.000000 1.000000\r\nvertex -2.500000 1.000000 3.000000\r\nvertex -2.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 3.000000\r\nvertex -4.500000 -1.000000 1.000000\r\nvertex -2.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 3.000000\r\nvertex -2.500000 -1.000000 1.000000\r\nvertex -2.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 1.000000\r\nvertex -4.500000 1.000000 1.000000\r\nvertex -2.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 1.000000\r\nvertex -2.500000 1.000000 1.000000\r\nvertex -2.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 -1.000000\r\nvertex -6.500000 -1.000000 -1.000000\r\nvertex -6.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 -1.000000\r\nvertex -6.500000 -1.000000 -3.000000\r\nvertex -4.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -6.500000 1.000000 1.000000\r\nvertex -4.500000 1.000000 1.000000\r\nvertex -4.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -6.500000 1.000000 1.000000\r\nvertex -4.500000 1.000000 -1.000000\r\nvertex -6.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -6.500000 -1.000000 1.000000\r\nvertex -6.500000 1.000000 1.000000\r\nvertex -6.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -6.500000 -1.000000 1.000000\r\nvertex -6.500000 1.000000 -1.000000\r\nvertex -6.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -4.500000 1.000000 1.000000\r\nvertex -4.500000 -1.000000 1.000000\r\nvertex -4.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -4.500000 1.000000 1.000000\r\nvertex -4.500000 -1.000000 -1.000000\r\nvertex -4.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -6.500000 1.000000 -3.000000\r\nvertex -4.500000 1.000000 -3.000000\r\nvertex -4.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -6.500000 1.000000 -3.000000\r\nvertex -4.500000 -1.000000 -3.000000\r\nvertex -6.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -6.500000 1.000000 -1.000000\r\nvertex -4.500000 1.000000 -1.000000\r\nvertex -4.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -6.500000 1.000000 -1.000000\r\nvertex -4.500000 1.000000 -3.000000\r\nvertex -6.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 1.000000 -3.000000\r\nvertex -4.500000 1.000000 -1.000000\r\nvertex -2.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 1.000000 -3.000000\r\nvertex -2.500000 1.000000 -1.000000\r\nvertex -2.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -6.500000 -1.000000 -1.000000\r\nvertex -6.500000 1.000000 -1.000000\r\nvertex -6.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -6.500000 -1.000000 -1.000000\r\nvertex -6.500000 1.000000 -3.000000\r\nvertex -6.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -2.500000 1.000000 -3.000000\r\nvertex -2.500000 1.000000 -1.000000\r\nvertex -0.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -2.500000 1.000000 -3.000000\r\nvertex -0.500000 1.000000 -1.000000\r\nvertex -0.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 -3.000000\r\nvertex -4.500000 1.000000 -3.000000\r\nvertex -2.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 -3.000000\r\nvertex -2.500000 1.000000 -3.000000\r\nvertex -2.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -4.500000 1.000000 -1.000000\r\nvertex -4.500000 -1.000000 -1.000000\r\nvertex -2.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -4.500000 1.000000 -1.000000\r\nvertex -2.500000 -1.000000 -1.000000\r\nvertex -2.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 -1.000000\r\nvertex -4.500000 -1.000000 -3.000000\r\nvertex -2.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -4.500000 -1.000000 -1.000000\r\nvertex -2.500000 -1.000000 -3.000000\r\nvertex -2.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -0.500000 1.000000 1.000000\r\nvertex -0.500000 1.000000 3.000000\r\nvertex -0.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -0.500000 1.000000 1.000000\r\nvertex -0.500000 -1.000000 3.000000\r\nvertex -0.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -0.500000 -1.000000 -1.000000\r\nvertex -0.500000 1.000000 -1.000000\r\nvertex -0.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -0.500000 -1.000000 -1.000000\r\nvertex -0.500000 1.000000 1.000000\r\nvertex -0.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -2.500000 1.000000 3.000000\r\nvertex -2.500000 -1.000000 3.000000\r\nvertex -0.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex -2.500000 1.000000 3.000000\r\nvertex -0.500000 -1.000000 3.000000\r\nvertex -0.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -2.500000 1.000000 1.000000\r\nvertex -2.500000 1.000000 3.000000\r\nvertex -0.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -2.500000 1.000000 1.000000\r\nvertex -0.500000 1.000000 3.000000\r\nvertex -0.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -0.500000 1.000000 -1.000000\r\nvertex -0.500000 -1.000000 -1.000000\r\nvertex -0.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -0.500000 1.000000 -1.000000\r\nvertex -0.500000 -1.000000 -3.000000\r\nvertex -0.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -2.500000 -1.000000 -3.000000\r\nvertex -2.500000 1.000000 -3.000000\r\nvertex -0.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -2.500000 -1.000000 -3.000000\r\nvertex -0.500000 1.000000 -3.000000\r\nvertex -0.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -2.500000 -1.000000 -1.000000\r\nvertex -2.500000 -1.000000 -3.000000\r\nvertex -0.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -2.500000 -1.000000 -1.000000\r\nvertex -0.500000 -1.000000 -3.000000\r\nvertex -0.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -2.500000 -1.000000 -1.000000\r\nvertex -0.500000 -1.000000 -1.000000\r\nvertex -0.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex -2.500000 -1.000000 -1.000000\r\nvertex -0.500000 -1.000000 1.000000\r\nvertex -2.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -0.500000 1.000000 -1.000000\r\nvertex -2.500000 1.000000 -1.000000\r\nvertex -2.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -0.500000 1.000000 -1.000000\r\nvertex -2.500000 1.000000 1.000000\r\nvertex -0.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -2.500000 1.000000 -1.000000\r\nvertex -2.500000 -1.000000 -1.000000\r\nvertex -2.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -2.500000 1.000000 -1.000000\r\nvertex -2.500000 -1.000000 1.000000\r\nvertex -2.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 0.500000 -1.000000 1.000000\r\nvertex 0.500000 -1.000000 3.000000\r\nvertex 0.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 0.500000 -1.000000 1.000000\r\nvertex 0.500000 1.000000 3.000000\r\nvertex 0.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 0.500000 1.000000 1.000000\r\nvertex 0.500000 1.000000 3.000000\r\nvertex 2.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 0.500000 1.000000 1.000000\r\nvertex 2.500000 1.000000 3.000000\r\nvertex 2.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 2.500000 1.000000 3.000000\r\nvertex 2.500000 -1.000000 3.000000\r\nvertex 4.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 2.500000 1.000000 3.000000\r\nvertex 4.500000 -1.000000 3.000000\r\nvertex 4.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 1.000000\r\nvertex 2.500000 -1.000000 3.000000\r\nvertex 0.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 1.000000\r\nvertex 0.500000 -1.000000 3.000000\r\nvertex 0.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 1.000000\r\nvertex 0.500000 -1.000000 1.000000\r\nvertex 0.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 1.000000\r\nvertex 0.500000 -1.000000 -1.000000\r\nvertex 2.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 2.500000 1.000000 3.000000\r\nvertex 0.500000 1.000000 3.000000\r\nvertex 0.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 2.500000 1.000000 3.000000\r\nvertex 0.500000 -1.000000 3.000000\r\nvertex 2.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 4.500000 -1.000000 3.000000\r\nvertex 4.500000 -1.000000 1.000000\r\nvertex 6.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 4.500000 -1.000000 3.000000\r\nvertex 6.500000 -1.000000 1.000000\r\nvertex 6.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 1.000000 1.000000\r\nvertex 2.500000 1.000000 3.000000\r\nvertex 4.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 1.000000 1.000000\r\nvertex 4.500000 1.000000 3.000000\r\nvertex 4.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 3.000000\r\nvertex 2.500000 -1.000000 1.000000\r\nvertex 4.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 3.000000\r\nvertex 4.500000 -1.000000 1.000000\r\nvertex 4.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 1.000000\r\nvertex 2.500000 1.000000 1.000000\r\nvertex 4.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 1.000000\r\nvertex 4.500000 1.000000 1.000000\r\nvertex 4.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 -1.000000\r\nvertex 0.500000 -1.000000 -1.000000\r\nvertex 0.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 -1.000000\r\nvertex 0.500000 -1.000000 -3.000000\r\nvertex 2.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 0.500000 1.000000 1.000000\r\nvertex 2.500000 1.000000 1.000000\r\nvertex 2.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 0.500000 1.000000 1.000000\r\nvertex 2.500000 1.000000 -1.000000\r\nvertex 0.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 0.500000 -1.000000 1.000000\r\nvertex 0.500000 1.000000 1.000000\r\nvertex 0.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 0.500000 -1.000000 1.000000\r\nvertex 0.500000 1.000000 -1.000000\r\nvertex 0.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 2.500000 1.000000 1.000000\r\nvertex 2.500000 -1.000000 1.000000\r\nvertex 2.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 2.500000 1.000000 1.000000\r\nvertex 2.500000 -1.000000 -1.000000\r\nvertex 2.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex 0.500000 1.000000 -3.000000\r\nvertex 2.500000 1.000000 -3.000000\r\nvertex 2.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex 0.500000 1.000000 -3.000000\r\nvertex 2.500000 -1.000000 -3.000000\r\nvertex 0.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 0.500000 1.000000 -1.000000\r\nvertex 2.500000 1.000000 -1.000000\r\nvertex 2.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 0.500000 1.000000 -1.000000\r\nvertex 2.500000 1.000000 -3.000000\r\nvertex 0.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 1.000000 -3.000000\r\nvertex 2.500000 1.000000 -1.000000\r\nvertex 4.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 1.000000 -3.000000\r\nvertex 4.500000 1.000000 -1.000000\r\nvertex 4.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 0.500000 -1.000000 -1.000000\r\nvertex 0.500000 1.000000 -1.000000\r\nvertex 0.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 0.500000 -1.000000 -1.000000\r\nvertex 0.500000 1.000000 -3.000000\r\nvertex 0.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 4.500000 1.000000 -3.000000\r\nvertex 4.500000 1.000000 -1.000000\r\nvertex 6.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 4.500000 1.000000 -3.000000\r\nvertex 6.500000 1.000000 -1.000000\r\nvertex 6.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 -3.000000\r\nvertex 2.500000 1.000000 -3.000000\r\nvertex 4.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 -3.000000\r\nvertex 4.500000 1.000000 -3.000000\r\nvertex 4.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 2.500000 1.000000 -1.000000\r\nvertex 2.500000 -1.000000 -1.000000\r\nvertex 4.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 2.500000 1.000000 -1.000000\r\nvertex 4.500000 -1.000000 -1.000000\r\nvertex 4.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 -1.000000\r\nvertex 2.500000 -1.000000 -3.000000\r\nvertex 4.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 2.500000 -1.000000 -1.000000\r\nvertex 4.500000 -1.000000 -3.000000\r\nvertex 4.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 6.500000 1.000000 1.000000\r\nvertex 6.500000 1.000000 3.000000\r\nvertex 6.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 6.500000 1.000000 1.000000\r\nvertex 6.500000 -1.000000 3.000000\r\nvertex 6.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 6.500000 -1.000000 -1.000000\r\nvertex 6.500000 1.000000 -1.000000\r\nvertex 6.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 6.500000 -1.000000 -1.000000\r\nvertex 6.500000 1.000000 1.000000\r\nvertex 6.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 4.500000 1.000000 3.000000\r\nvertex 4.500000 -1.000000 3.000000\r\nvertex 6.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 4.500000 1.000000 3.000000\r\nvertex 6.500000 -1.000000 3.000000\r\nvertex 6.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 4.500000 1.000000 1.000000\r\nvertex 4.500000 1.000000 3.000000\r\nvertex 6.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 4.500000 1.000000 1.000000\r\nvertex 6.500000 1.000000 3.000000\r\nvertex 6.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 6.500000 1.000000 -1.000000\r\nvertex 6.500000 -1.000000 -1.000000\r\nvertex 6.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 6.500000 1.000000 -1.000000\r\nvertex 6.500000 -1.000000 -3.000000\r\nvertex 6.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex 4.500000 -1.000000 -3.000000\r\nvertex 4.500000 1.000000 -3.000000\r\nvertex 6.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex 4.500000 -1.000000 -3.000000\r\nvertex 6.500000 1.000000 -3.000000\r\nvertex 6.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 4.500000 -1.000000 -1.000000\r\nvertex 4.500000 -1.000000 -3.000000\r\nvertex 6.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 4.500000 -1.000000 -1.000000\r\nvertex 6.500000 -1.000000 -3.000000\r\nvertex 6.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 4.500000 -1.000000 -1.000000\r\nvertex 6.500000 -1.000000 -1.000000\r\nvertex 6.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 4.500000 -1.000000 -1.000000\r\nvertex 6.500000 -1.000000 1.000000\r\nvertex 4.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 6.500000 1.000000 -1.000000\r\nvertex 4.500000 1.000000 -1.000000\r\nvertex 4.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 6.500000 1.000000 -1.000000\r\nvertex 4.500000 1.000000 1.000000\r\nvertex 6.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 4.500000 1.000000 -1.000000\r\nvertex 4.500000 -1.000000 -1.000000\r\nvertex 4.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 4.500000 1.000000 -1.000000\r\nvertex 4.500000 -1.000000 1.000000\r\nvertex 4.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 7.500000 -1.000000 1.000000\r\nvertex 7.500000 -1.000000 3.000000\r\nvertex 7.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 7.500000 -1.000000 1.000000\r\nvertex 7.500000 1.000000 3.000000\r\nvertex 7.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 7.500000 1.000000 1.000000\r\nvertex 7.500000 1.000000 3.000000\r\nvertex 9.500000 1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 7.500000 1.000000 1.000000\r\nvertex 9.500000 1.000000 3.000000\r\nvertex 9.500000 1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 9.500000 -1.000000 1.000000\r\nvertex 9.500000 -1.000000 3.000000\r\nvertex 7.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 9.500000 -1.000000 1.000000\r\nvertex 7.500000 -1.000000 3.000000\r\nvertex 7.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 9.500000 -1.000000 1.000000\r\nvertex 7.500000 -1.000000 1.000000\r\nvertex 7.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 9.500000 -1.000000 1.000000\r\nvertex 7.500000 -1.000000 -1.000000\r\nvertex 9.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 9.500000 1.000000 3.000000\r\nvertex 7.500000 1.000000 3.000000\r\nvertex 7.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 9.500000 1.000000 3.000000\r\nvertex 7.500000 -1.000000 3.000000\r\nvertex 9.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 9.500000 1.000000 1.000000\r\nvertex 9.500000 1.000000 3.000000\r\nvertex 9.500000 -1.000000 3.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 9.500000 1.000000 1.000000\r\nvertex 9.500000 -1.000000 3.000000\r\nvertex 9.500000 -1.000000 1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 9.500000 -1.000000 -1.000000\r\nvertex 7.500000 -1.000000 -1.000000\r\nvertex 7.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 9.500000 -1.000000 -1.000000\r\nvertex 7.500000 -1.000000 -3.000000\r\nvertex 9.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 7.500000 1.000000 1.000000\r\nvertex 9.500000 1.000000 1.000000\r\nvertex 9.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 7.500000 1.000000 1.000000\r\nvertex 9.500000 1.000000 -1.000000\r\nvertex 7.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 7.500000 -1.000000 1.000000\r\nvertex 7.500000 1.000000 1.000000\r\nvertex 7.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 7.500000 -1.000000 1.000000\r\nvertex 7.500000 1.000000 -1.000000\r\nvertex 7.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 9.500000 1.000000 1.000000\r\nvertex 9.500000 -1.000000 1.000000\r\nvertex 9.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 9.500000 1.000000 1.000000\r\nvertex 9.500000 -1.000000 -1.000000\r\nvertex 9.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex 7.500000 1.000000 -3.000000\r\nvertex 9.500000 1.000000 -3.000000\r\nvertex 9.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex 7.500000 1.000000 -3.000000\r\nvertex 9.500000 -1.000000 -3.000000\r\nvertex 7.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 7.500000 1.000000 -1.000000\r\nvertex 9.500000 1.000000 -1.000000\r\nvertex 9.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 7.500000 1.000000 -1.000000\r\nvertex 9.500000 1.000000 -3.000000\r\nvertex 7.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 9.500000 1.000000 -3.000000\r\nvertex 9.500000 1.000000 -1.000000\r\nvertex 11.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex 9.500000 1.000000 -3.000000\r\nvertex 11.500000 1.000000 -1.000000\r\nvertex 11.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 7.500000 -1.000000 -1.000000\r\nvertex 7.500000 1.000000 -1.000000\r\nvertex 7.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 7.500000 -1.000000 -1.000000\r\nvertex 7.500000 1.000000 -3.000000\r\nvertex 7.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 11.500000 1.000000 -1.000000\r\nvertex 11.500000 -1.000000 -1.000000\r\nvertex 11.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 11.500000 1.000000 -1.000000\r\nvertex 11.500000 -1.000000 -3.000000\r\nvertex 11.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex 9.500000 -1.000000 -3.000000\r\nvertex 9.500000 1.000000 -3.000000\r\nvertex 11.500000 1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex 9.500000 -1.000000 -3.000000\r\nvertex 11.500000 1.000000 -3.000000\r\nvertex 11.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 9.500000 1.000000 -1.000000\r\nvertex 9.500000 -1.000000 -1.000000\r\nvertex 11.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 9.500000 1.000000 -1.000000\r\nvertex 11.500000 -1.000000 -1.000000\r\nvertex 11.500000 1.000000 -1.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 9.500000 -1.000000 -1.000000\r\nvertex 9.500000 -1.000000 -3.000000\r\nvertex 11.500000 -1.000000 -3.000000\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 9.500000 -1.000000 -1.000000\r\nvertex 11.500000 -1.000000 -3.000000\r\nvertex 11.500000 -1.000000 -1.000000\r\nendloop\r\nendfacet\r\nendsolid Exported from Blender-4.0.2\r\n"; // The STL file content as a string
	private string cubeStl = "solid Exported from Blender-4.0.2\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -3.415066 -3.415066 -3.415066\r\nvertex -3.415066 -3.415066 3.415066\r\nvertex -3.415066 3.415066 3.415066\r\nendloop\r\nendfacet\r\nfacet normal -1.000000 0.000000 0.000000\r\nouter loop\r\nvertex -3.415066 -3.415066 -3.415066\r\nvertex -3.415066 3.415066 3.415066\r\nvertex -3.415066 3.415066 -3.415066\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -3.415066 3.415066 -3.415066\r\nvertex -3.415066 3.415066 3.415066\r\nvertex 3.415066 3.415066 3.415066\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 1.000000 0.000000\r\nouter loop\r\nvertex -3.415066 3.415066 -3.415066\r\nvertex 3.415066 3.415066 3.415066\r\nvertex 3.415066 3.415066 -3.415066\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 3.415066 3.415066 -3.415066\r\nvertex 3.415066 3.415066 3.415066\r\nvertex 3.415066 -3.415066 3.415066\r\nendloop\r\nendfacet\r\nfacet normal 1.000000 0.000000 0.000000\r\nouter loop\r\nvertex 3.415066 3.415066 -3.415066\r\nvertex 3.415066 -3.415066 3.415066\r\nvertex 3.415066 -3.415066 -3.415066\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 3.415066 -3.415066 -3.415066\r\nvertex 3.415066 -3.415066 3.415066\r\nvertex -3.415066 -3.415066 3.415066\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 -1.000000 0.000000\r\nouter loop\r\nvertex 3.415066 -3.415066 -3.415066\r\nvertex -3.415066 -3.415066 3.415066\r\nvertex -3.415066 -3.415066 -3.415066\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -3.415066 3.415066 -3.415066\r\nvertex 3.415066 3.415066 -3.415066\r\nvertex 3.415066 -3.415066 -3.415066\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 -1.000000\r\nouter loop\r\nvertex -3.415066 3.415066 -3.415066\r\nvertex 3.415066 -3.415066 -3.415066\r\nvertex -3.415066 -3.415066 -3.415066\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 3.415066 3.415066 3.415066\r\nvertex -3.415066 3.415066 3.415066\r\nvertex -3.415066 -3.415066 3.415066\r\nendloop\r\nendfacet\r\nfacet normal 0.000000 0.000000 1.000000\r\nouter loop\r\nvertex 3.415066 3.415066 3.415066\r\nvertex -3.415066 -3.415066 3.415066\r\nvertex 3.415066 -3.415066 3.415066\r\nendloop\r\nendfacet\r\nendsolid Exported from Blender-4.0.2\r\n\r\n";

	private string link = "";
	private string stlFromString = "";
	bool downloading = false;

	private async Task IncrementCount()
	{
		currentCount++;
		await JSRuntime.InvokeVoidAsync("sendStringToUnity", currentCount.ToString());
	}

	private async Task LoadStlAsString(MouseEventArgs e)
	{
		await JSRuntime.InvokeVoidAsync("sendStlStringToUnity", cubeStl);
	}

	private async Task LoadStlAsBytes()
	{
		byte[] myKey = Encoding.UTF8.GetBytes("MeinSchluessel00"); 
		byte[] myIV = Encoding.UTF8.GetBytes("EinInitialVektor"); 
		byte[] stlBytes = EncryptStringToBytes_Aes(coolStl, myKey, myIV);
		byteCount = stlBytes.Length.ToString();

		var byteCountInt = stlBytes.Length;

		if (byteCountInt > 150000)
		{
			Console.WriteLine("");
			byteCount = byteCountInt.ToString() + " <-- These are too many bytes, we need to chunk them into smaller pieces";
		}
		else
		{
			byteCount = byteCountInt.ToString();
			await JSRuntime.InvokeVoidAsync("sendStlBytesToUnity", stlBytes);
		}
	}

	static byte[] EncryptStringToBytes_Aes(string plainText, byte[] Key, byte[] IV)
	{
		if (plainText == null || plainText.Length <= 0)
			throw new ArgumentNullException("plainText");
		if (Key == null || Key.Length <= 0)
			throw new ArgumentNullException("Key");
		if (IV == null || IV.Length <= 0)
			throw new ArgumentNullException("IV");
		byte[] encrypted;

		using (Aes aesAlg = Aes.Create())
		{
			aesAlg.Key = Key;
			aesAlg.IV = IV;

			ICryptoTransform encryptor = aesAlg.CreateEncryptor(aesAlg.Key, aesAlg.IV);

			using (MemoryStream msEncrypt = new MemoryStream())
			{
				using (CryptoStream csEncrypt = new CryptoStream(msEncrypt, encryptor, CryptoStreamMode.Write))
				{
					using (StreamWriter swEncrypt = new StreamWriter(csEncrypt))
					{
						swEncrypt.Write(plainText);
					}
					encrypted = msEncrypt.ToArray();
				}
			}
		}

		return encrypted;
	}

	async Task<string> DownloadSTLFileAsync(string url)
	{
		using HttpClient client = new HttpClient();
		try
		{
			downloading = true;
			string stlContent = await client.GetStringAsync(url);
			downloading = false;
			return stlContent;
		}
		catch (Exception ex)
		{
			// Handle exceptions
			downloading = false;
			Console.WriteLine($"An error occurred: {ex.Message}");
			return null;
		}
	}

	async Task ProcessSTLFromUrl()
	{
		stlFromString = await DownloadSTLFileAsync(link);
		await LoadStlAsBytes(stlFromString);
	}

	private async Task LoadStlAsBytes(string stlString)
	{
		byte[] myKey = Encoding.UTF8.GetBytes("MeinSchluessel00");
		byte[] myIV = Encoding.UTF8.GetBytes("EinInitialVektor");
		byte[] stlBytes = EncryptStringToBytes_Aes(stlString, myKey, myIV);

		var byteCountInt = stlBytes.Length;

		if (byteCountInt > 150000)
		{
			Console.WriteLine("");
			byteCount = byteCountInt.ToString() + " <-- These are too many bytes, we need to chunk them into smaller pieces";
		}
		else
		{
			byteCount = byteCountInt.ToString();
			await JSRuntime.InvokeVoidAsync("sendStlBytesToUnity", stlBytes);
		}
	}
}